# üìä –û–¢–ß–ï–¢ –û –¢–ï–ö–£–©–ï–ú –°–¢–ê–¢–£–°–ï NEXY AI ASSISTANT

**–î–∞—Ç–∞:** 19 —Å–µ–Ω—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 2.5.0  
**–°—Ç–∞—Ç—É—Å:** –í –ø—Ä–æ—Ü–µ—Å—Å–µ (15 –ò–ù–¢–ï–ì–†–ê–¶–ò–ô –ó–ê–í–ï–†–®–ï–ù–´)

## ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–ù–´–ï –ò–ù–¢–ï–ì–†–ê–¶–ò–ò (15/16)**

| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** | **–°—Ç–∞—Ç—É—Å** | **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** |
|----------------|------------|---------------------|
| **TrayControllerIntegration** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω | –ò–∫–æ–Ω–∫–∞ –≤ –º–µ–Ω—é-–±–∞—Ä–µ, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–µ–∂–∏–º–æ–≤ |
| **PermissionsIntegration** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω | –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π |
| **InputProcessingIntegration** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω | –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ + Push-to-Talk |
| **UpdateManagerIntegration** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |
| **NetworkManagerIntegration** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ç–∏, —Å–æ–±—ã—Ç–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è |
| **AudioDeviceIntegration** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏, –º–∏–∫—Ä–æ—Ñ–æ–Ω |
| **InterruptManagementIntegration** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω | –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π |
| **SimpleModuleCoordinator** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω | –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä |
| **EventBus** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω | –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π |
| **StateManager** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º |
| **HardwareIdIntegration** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω | –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è hardware_id, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **GrpcClientIntegration** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω | –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞+—Å–∫—Ä–∏–Ω—à–æ—Ç–∞+HWID, –ø—Ä–∏—ë–º —Å—Ç—Ä–∏–º‚Äë–æ—Ç–≤–µ—Ç–æ–≤ |
| **ScreenshotCaptureIntegration** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω | –ó–∞—Ö–≤–∞—Ç –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ –Ω–∞ recording_stop |
| **VoiceRecognitionIntegration** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω | –†–µ–∞–ª—å–Ω—ã–π –∑–∞—Ö–≤–∞—Ç; PTT –∑–∞–≤–µ—Ä—à–µ–Ω |
| **SpeechPlaybackIntegration** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω | –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ (CoreAudio, –±—É—Ñ–µ—Ä/–æ—á–µ—Ä–µ–¥—å) |
| **Signals Integration** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω | –ê–∫—É—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã: listen_start/done/error/cancel —á–µ—Ä–µ–∑ `playback.signal` |

## ‚ùå **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï/–í –ü–†–û–ì–†–ï–°–°–ï (2/16)**

| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è/–§—É–Ω–∫—Ü–∏—è** | **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç** | **–°—Ç–∞—Ç—É—Å** |
|------------------------|---------------|------------|
| **ModeManagementIntegration / Workflows** | üî• –ü–†–ò–û–†–ò–¢–ï–¢ 2 | –§–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è FSM –∏ —Ü–µ–ø–æ—á–µ–∫ S‚ÜíL‚ÜíP‚ÜíS |
| **Login/Auth + Client Chat** | ‚è∏Ô∏è Deferred | –í–Ω–µ —Ç–µ–∫—É—â–µ–≥–æ scope |

## üéØ **–¢–ï–ö–£–©–ê–Ø –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨**

### **‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç:**
- **–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** - –±–µ–∑ –æ—à–∏–±–æ–∫
- **Tray –∏–∫–æ–Ω–∫–∞** - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –º–µ–Ω—é-–±–∞—Ä–µ; —Å—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å `app.mode_changed` –∏ `voice.mic_opened/closed` (LISTENING/PROCESSING/SLEEPING)
- **–†–∞–∑—Ä–µ—à–µ–Ω–∏—è** - –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞** - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–∂–∞—Ç–∏—è –ø—Ä–æ–±–µ–ª–∞
- **Push-to-Talk (PTT)** - LONG_PRESS ‚Üí LISTENING ‚Üí –∑–∞–ø–∏—Å—å; RELEASE ‚Üí `voice.recording_stop` ‚Üí —Ä–µ–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ—Ö–æ–¥ –≤ PROCESSING/SLEEPING; –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–∞–ø (SHORT_PRESS) –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–∏–∫—Ä–æ—Ñ–æ–Ω –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ SLEEPING
- **Interrupts (press-first)** - –Ω–∞ PRESS –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ (—Å—Ç–æ–ø –∞—É–¥–∏–æ –±–µ–∑ –¥—Ä–µ–Ω–∞–∂–∞, –æ—Ç–º–µ–Ω–∞ gRPC, –æ—Ç–º–µ–Ω–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è); SHORT ‚Üí SLEEPING; LONG ‚Üí LISTENING
- **–°–µ—Ç—å** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **–ê—É–¥–∏–æ** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏; –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π; —Ç—Ä—ç–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π Output
- **–ü—Ä–µ—Ä—ã–≤–∞–Ω–∏—è** - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è

### **‚ö†Ô∏è –ó–∞–º–µ—Ç–∫–∏/–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –í PROCESSING —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–∞–π–º–∞—É—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ SLEEPING –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ end_message –∏–ª–∏ —Å–æ–±—ã—Ç–∏–µ playback.completed)
- –ù—É–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å `end_message` –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è —Ä–∞–Ω–Ω–µ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ SLEEPING –∏ –æ—Ç–º–µ–Ω—ã —Ç–∞–π–º–µ—Ä–∞
- –£–ª—É—á—à–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—å—é/–ø–∞–º—è—Ç—å—é –ø—Ä–∏ –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö (–≥—Ä–∞–Ω–∏—Ü—ã –±—É—Ñ–µ—Ä–∞ –∑–∞–¥–∞–Ω—ã, –Ω–æ —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å soft‚Äë–ª–∏–º–∏—Ç—ã per‚Äësession)

### **üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–º–µ—Ç–∫–∏ / –¥–æ–ª–≥:**
- –°–æ–±—ã—Ç–∏—è EventBus –ø—Ä–∏—Ö–æ–¥—è—Ç –∫–∞–∫ dict ‚Äî –≤ –∫–ª—é—á–µ–≤—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö –¥–æ–±–∞–≤–ª–µ–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞; —Å—Ç–æ–∏—Ç –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ–±—â–∏–π helper.
- –í Permissions —É–±—Ä–∞–Ω ¬´—Å–ø–∞–º¬ª: —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç–∞—Ç—É—Å–∞.
- –£–±—Ä–∞–Ω—ã –¥—É–±–ª–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–π `app.mode_changed` –∏–∑ InputProcessing; —Ç–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ StateManager.
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `AudioDeviceManager` –¥–≤–æ–π–Ω–æ–π —Å—Ç–∞—Ä—Ç ‚Äî —Å—Ç–∞—Ä—Ç—É–µ–º —Ç–æ–ª—å–∫–æ –≤ `start()`.
- SHORT_PRESS –ø—É–±–ª–∏–∫—É–µ—Ç `voice.recording_stop` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–∞–ø–∏—Å—å —É–∂–µ –Ω–∞—á–∞—Ç–∞ (–ø–æ—Å–ª–µ LONG_PRESS); –∏–Ω–∞—á–µ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –≤ SLEEPING –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å–µ—Å—Å–∏—é.

## üöÄ **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò (–ê–ö–¢–£–ê–õ–¨–ù–´–ô –¶–ò–ö–õ: –ü–æ—Å—Ç–∞–≤–∫–∞)**

### **1. –ü–æ—Å—Ç–∞–≤–∫–∞ (PKG)**
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–∏—Ç–æ–Ω–æ–≤—Å–∫–æ–≥–æ .app (PyInstaller), Info.plist/Entitlements
- –ü–æ–¥–ø–∏—Å—å .app (codesign, hardened runtime)
- –°–±–æ—Ä–∫–∞/–ø–æ–¥–ø–∏—Å—å PKG (productbuild/productsign)
- –ù–æ—Ç–∞—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è/Stapler (notarytool/stapler)
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è AppCast/PKG (Azure), –ø—Ä–æ–≤–µ—Ä–∫–∞ Sparkle
  (—Å–º. PACKAGING_PLAN.md)

### **2. Signals/Cues** ‚Äî –ó–ê–í–ï–†–®–ï–ù–û
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ `modules/signals` + `SignalIntegration`:
- EventBusAudioSink –ø—É–±–ª–∏–∫—É–µ—Ç `playback.signal` —Å PCM (s16le, 48 kHz)
- `SpeechPlaybackIntegration` –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç —Å–∏–≥–Ω–∞–ª –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- –ü–æ–¥–¥–µ—Ä–∂–∞–Ω—ã: listen_start, done, error, cancel (—Å cooldown)

### **2. Workflows (listening/processing)** (–ü–†–ò–û–†–ò–¢–ï–¢ 2)
**–¶–µ–ª—å:** –§–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ü–µ–ø–æ—á–∫–∏ S‚ÜíL‚ÜíP‚ÜíS
- –î–µ–±–∞—É–Ω—Å, –æ—Ç–º–µ–Ω—ã, —Ç–∞–π–º–∞—É—Ç—ã
- capture ‚Üí grpc ‚Üí playback ‚Üí SLEEPING (–ø–æ `end_message`/`playback.completed`)

### **3. Login/Auth + Client Chat** (–ü–†–ò–û–†–ò–¢–ï–¢ 3)
**–¶–µ–ª—å:** –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —á–∞—Ç –ø–æ–≤–µ—Ä—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ gRPC
- UI/CLI —á–∞—Ç: –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞, –ø–æ–∫–∞–∑ –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ —Ç–µ–∫—Å—Ç–∞/–∞—É–¥–∏–æ
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ Keychain, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ/–ª–æ–≥–∞—É—Ç
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ `authorization` –≤ metadata –≤—Å–µ—Ö RPC
- –°–µ—Ä–≤–µ—Ä–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞), graceful‚Äëfallback –ø—Ä–∏ –æ—Ñ—Ñ–ª–∞–π–Ω–µ

## üìà **–ü–†–û–ì–†–ï–°–°**

- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** 100% ‚úÖ
- **–ë–∞–∑–æ–≤—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:** 100% ‚úÖ
- **Push-to-Talk:** 100% ‚úÖ (—Ä–µ–∞–ª—å–Ω—ã–π VoiceRecognition –∞–∫—Ç–∏–≤–µ–Ω)
- **–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª:** 87% ‚ö†Ô∏è (—Ä–∞–±–æ—Ç–∞–µ—Ç end‚Äëto‚Äëend; –Ω—É–∂–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è)
- **–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:** 94% (15/16 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π)

## üéØ **–¶–ï–õ–¨**

–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è PROCESSING):
**PRESS ‚Üí LISTENING ‚Üí RELEASE ‚Üí —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ ‚Üí PROCESSING ‚Üí gRPC ‚Üí playback ‚Üí SLEEPING**
